plugins {
    id 'java'
    id 'com.palantir.git-version' version '0.12.2'
    id 'com.palantir.docker' version '0.22.1'
    id 'org.springframework.boot' version '2.1.9.RELEASE'
}

group 'com._98elements'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    compile 'org.springframework.boot:spring-boot-starter-web:2.1.9.RELEASE'
    compile 'org.springframework.boot:spring-boot-starter-actuator:2.1.9.RELEASE'
}

version gitVersion()

processResources {
    expand(project.properties)
}

docker {
    name "com.98elements/${project.name}:${project.version}"
    files tasks.bootJar.outputs.files
}

docker.dependsOn bootJar
